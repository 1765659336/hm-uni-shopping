# 11. 发布

## [#](https://www.escook.cn/docs-uni-shop/mds/11.publish.html#_11-1-为什么要发布)11.1 为什么要发布

1. 小程序只有发布之后，才能被用户搜索并使用
2. 开发期间的小程序为了便于调试，含有 sourcemap 相关的文件，并且代码没有被压缩，因此体积较大，不适合直接当作线上版本进行发布
3. 通过执行 “小程序发布”，能够优化小程序的体积，提高小程序的运行性能

## [#](https://www.escook.cn/docs-uni-shop/mds/11.publish.html#_11-2-发布小程序的流程)11.2 发布小程序的流程

1. 点击 `HBuilderX` 菜单栏上的 `发行` -> `小程序-微信(仅适用于uni-app)`：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-1.9cdf19c7.png)

2. 在弹出框中填写要发布的**小程序的名称**和**AppId**之后，点击发行按钮：

   ![img](%E8%B5%B7%E6%AD%A5.assets/imgmmmm.png)

3. 在 `HBuilderX` 的控制台中**查看小程序发布编译的进度**：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-3.567c1979.png)

4. 发布编译完成之后，会自动打开一个新的**微信开发者工具界面**，此时，点击工具栏上的上传按钮：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-4.9c24f0ee.png)

5. 填写**版本号**和**项目备注**之后，点击**上传**按钮：

   ![img](%E8%B5%B7%E6%AD%A5.assets/imnnng.png)

6. 上传完成之后，会出现如下的提示消息，直接点击**确定**按钮即可：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-6.d5c408c3.png)

7. 通过微信开发者工具上传的代码，默认处于**版本管理**的**开发版本**列表中，如图所示：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-7.ec9045bc.png)

8. 将 `开发版本提交审核` -> 再将 `审核通过的版本发布上线`，即可实现小程序的发布和上线：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-8.a251f8b8.png)

## [#](https://www.escook.cn/docs-uni-shop/mds/11.publish.html#_11-3-发布为-android-app-的流程)11.3 发布为 Android App 的流程

1. 点击 HBuilderX 状态栏左侧的**未登录**按钮，弹出登录的对话框：

   ![img](%E8%B5%B7%E6%AD%A5.assets/imjlllllg.png)

2. 在弹出的登录对话框中，填写**账号**和**密码**之后，**点击登录**即可：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-10.438598e0.png)

3. 打开项目根目录中的 `manifest.json` 配置文件，在**基础配置**面板中，获取**uni-app 应用标识**，并填写**应用名称**：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-11.dc32f303.png)

4. 切换到 **App 图标配置**面板，点击**浏览**按钮，选择合适的图片之后，再点击**自动生成所有图标并替换**即可：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-12.e3157064.png)

5. 点击菜单栏上的 **发行** -> **原生 App-云打包**：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-13.d176ba65.png)

6. **勾选打包配置**如下：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-14.ddd7bcc3.png)

7. 在**控制台**中**查看打包的进度信息**：

   ![img](%E8%B5%B7%E6%AD%A5.assets/11-15.c8d3b328.png)

8. 点击链接**下载 apk 的安装包**，并**安装到 Android 手机中**查看打包的效果。

> 注意：由于开发期间**没有进行多端适配**，所以有些功能在 App 中无法正常运行，例如：**选择收货地址**、**微信登录**、**微信支付**